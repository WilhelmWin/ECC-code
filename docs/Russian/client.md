# Документация: Сервер защищённого обмена сообщениями
## 1. Описание

Данный код представляет собой клиента, использующего криптографические 
методы для защищённого обмена сообщениями с сервером. Он реализует обмен
с использованием алгоритмов Curve25519 (для создания ключей) и ASCON 
(для шифрования сообщений). Основные этапы работы клиента включают 
инициализацию контекста, создание соединения с сервером, выполнение обмена
ключами с сервером и обмен зашифрованными сообщениями.

## 2. Использование
```c
./client <hostname> <port>
```
- `<port>` — номер порта, на который клиент подключается.
- `<hostname>` - IP адресс сервера

## 3. Ключевые особенности

- Кроссплатформенная инициализация сокетов

- Проверка аргументов командной строки

- Генерация приватного ключа

- Реализация Диффи-Хеллмана

- Приём и передача зашифрованных сообщений

- Обработка завершения соединения по команде "bye"

## 4. Структура ClientServerContext

| Поле | Описание |
|------|----------|
| `sockfd` | Дескриптор серверного сокета |
| `newsockfd` | Дескриптор сокета соединения с клиентом |
| `portno` | Номер порта |
| `serv_addr` | Структура с адресом сервера |
| `cli_addr` | Структура с адресом клиента |
| `clilen` | Размер структуры `cli_addr` |
| `optval` | Параметр для `setsockopt` |
| `private_key[32]` | Приватный ключ сервера |
| `public_key[32]` | Публичный ключ сервера |
| `client_public_key[32]` | Публичный ключ клиента |
| `shared_secret[32]` | Общий секрет, полученный по DH |
| `buffer[BUFFER_SIZE]` | Буфер для текстовых сообщений |
| `bufferlen` | Длина содержимого буфера |
| `encrypted_msg[BUFFER_SIZE + 16]` | Зашифрованное сообщение |
| `encrypted_msglen` | Длина зашифрованного сообщения |
| `decrypted_msg[BUFFER_SIZE]` | Расшифрованное сообщение |
| `decrypted_msglen` | Длина расшифрованного сообщения |
| `npub[NONCE_SIZE]` | Нонс |
| `nsec[NONCE_SIZE]` | Дополнительная секция безопасности (не используется) |

## 5. Основные этапы выполнения